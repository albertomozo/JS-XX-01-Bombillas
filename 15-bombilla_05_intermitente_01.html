<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BotÃ³n y SVG</title>
    <style>
        #myButton,#myButton2 {
            padding: 10px 20px;
            background-color: #4CAF50;
            color: white;
            border: none;
            cursor: pointer;
            border-radius: 5px;
        }
        #myButton:hover {
            background-color: #45a049;
        }

        #myButton2:hover {
            background-color: #943665;
        }
        #myButton2 {
            background-color: red;
        }

        #parteDos{
            display:none;
        }
        #parteTres{
            display:none;
        }



    </style>
</head>
<body>
    <input type="color" name="color" id="color" value="#D7F855">
    grosor 
    <input type="range" min="1" max="10" value="1" class="slider" id="grosor" 
           onchange="document.getElementById('valorGrosor').value = document.getElementById('grosor').value;"> 
    <input type="text" id="valorGrosor" style="width:20px">
    ancho  <input type="range" min="32" max="512" value="100" class="slider" id="ancho"
            onchange="document.getElementById('valorAncho').value = document.getElementById('ancho').value;"> 
    <input type="text" id="valorAncho" style="width:30px">  
    <button id="myButton">color</button>
    <!-- <button id="myButton2">apagar</button> -->
    <br><br>
    <svg id="mySVG" width="100px"  viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">
        <!-- Contenido de tu SVG con propiedades fill -->
        <defs><style>.a{fill:none;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;}</style></defs><path id="myPath" class="a" d="M37.2133,17.7292A13.2133,13.2133,0,1,0,16.5058,28.5958a4.0061,4.0061,0,0,1,1.6648,3.315v4.7315H29.8294V31.907A4.0511,4.0511,0,0,1,31.532,28.57,13.1741,13.1741,0,0,0,37.2133,17.7292Z"/>
        <line class="a" x1="19.4437" y1="38.9282" x2="28.5563" y2="38.9282"/>
        <line class="a" x1="19.3782" y1="41.2141" x2="28.4908" y2="41.2141"/>
        <line class="a" x1="21.5213" y1="43.5" x2="26.4787" y2="43.5"/>
        <polyline class="a" points="26.011 36.642 26.011 29.583 27.66 26.085"/>
        <polyline class="a" points="21.989 36.642 21.989 29.583 20.34 26.085"/>
    </svg>
    <div id="parteDos">
       <input type="number" name="copias" id="copias" onBlur="crearCopias()" placeholder="Introduce num copias de bombillas">
    </div>
    <div id="contenedorBombillas"></div>
    <div id="parteTres">
       Introduce Segundos : <input type="number" name="segundos" id="segundos" onBlur="intermitente()" placeholder="Introduce segundos intermitencia">
       <input type="number" name="numseg" id="numseg">
     </div>
    <script >
        console.log(`ðŸ“˜Empezamos`);
        var btn = document.getElementById("myButton");
        var bombillaColor;
        var grosor;
        var ancho;

        document.getElementById("valorGrosor").value = document.getElementById("grosor").value;
        document.getElementById("valorAncho").value = document.getElementById("ancho").value;
        console.log(btn);

        document.getElementById("myButton").addEventListener("click", function() {
            console.log(`ðŸ“™click `);
            // comprobamos el contenido del boton 
            console.log(document.getElementById("myButton").innerHTML);
            
            
                bombillaColor = document.getElementById("color").value;
                grosor = document.getElementById("grosor").value;
                ancho = document.getElementById("ancho").value;
                console.log(grosor);
                // Obtener el elemento path dentro del SVG por su ID
                var path = document.getElementById("myPath");
                // Cambiar el color de fill del path a amarillo
                path.style.fill = bombillaColor;
                path.style.strokeWidth = grosor+'px';
                // cambiamos boton
                console.log(document.getElementById("myButton").style);
                document.getElementById("myButton").style.backgroundColor=bombillaColor;
                document.getElementById("mySVG").style.width = ancho+'px';
                document.getElementById("parteDos").style.display = 'block';



          
        });


        function crearCopias(bombillaColor, grosor,ancho) {
            let numeroCopias =document.getElementById("copias").value;
            bombillaColor = document.getElementById("color").value;
            grosor = document.getElementById("grosor").value;
            ancho = document.getElementById("ancho").value; 


            console.log(' num ðŸ’¡' + numeroCopias);
            console.log(' ancho ðŸ’¡' + ancho);  
            console.log(' ancho ðŸ’¡' + ancho);


            copiasBom = '';
            for (let i=1; i<=numeroCopias; i++) {
                copiasBom += `<svg id="mySVG${i}" width="${ancho}px"  viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">
                <!-- Contenido de tu SVG con propiedades fill -->
                <defs><style>.a{fill:${bombillaColor};stroke-width:${grosor};stroke:#000000;stroke-linecap:round;stroke-linejoin:round;}</style></defs><path id="myPath" class="a copias" d="M37.2133,17.7292A13.2133,13.2133,0,1,0,16.5058,28.5958a4.0061,4.0061,0,0,1,1.6648,3.315v4.7315H29.8294V31.907A4.0511,4.0511,0,0,1,31.532,28.57,13.1741,13.1741,0,0,0,37.2133,17.7292Z"/>
                <line class="a" x1="19.4437" y1="38.9282" x2="28.5563" y2="38.9282"/>
                <line class="a" x1="19.3782" y1="41.2141" x2="28.4908" y2="41.2141"/>
                <line class="a" x1="21.5213" y1="43.5" x2="26.4787" y2="43.5"/>
                <polyline class="a" points="26.011 36.642 26.011 29.583 27.66 26.085"/>
                <polyline class="a" points="21.989 36.642 21.989 29.583 20.34 26.085"/>
            </svg>`;
            }

            document.getElementById('contenedorBombillas').innerHTML = copiasBom;
            document.getElementById("parteTres").style.display = 'block';

        }
        
        var estado = 'on';
        function intermitente() {
            const SEGUNDOS = document.getElementById('segundos').value * 1000;

          // Suponiendo que 'on' es el estado inicial
            const intervalId = setInterval(cambiarEstado, SEGUNDOS);

             // Si necesitas detener la repeticiÃ³n en algÃºn momento, puedes hacerlo asÃ­:
            // clearInterval(intervalId);

        }

    function cambiarEstado() {
        
        console.log('âŒš ' + estado );
        const path = document.getElementById("myPath");
        const copiasBom = document.querySelectorAll(".copias");
        console.log(copiasBom);
        if (estado === 'on') {
            path.style.fill = document.getElementById('color').value;
            copiasBom.forEach(function(item) {
                item.style.fill = document.getElementById('color').value;
            });
            estado = 'off';
        } else {
            estado = 'on';
            path.style.fill = 'transparent';
            copiasBom.forEach(function(item) {
                item.style.fill = 'transparent';
            });
           
           // copiasBom.forEach(item){item.fill = document.transparente;}
        }
    }



// Si necesitas detener la repeticiÃ³n en algÃºn momento, puedes hacerlo asÃ­:
// clearInterval(intervalId);



     


    </script>
</body>
</html>